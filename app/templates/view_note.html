{% extends "base.html" %}

{% block title %}View Note | CrypticNotes{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/create_new_note.css') }}">
{% endblock %}

{% block content %}
    <div class="new-note-container">
            <div class="form-group">
                <input type="text" id="title" name="title" placeholder="Title" value="{{ note.title }}" readonly>
            </div>
            <div class="form-group">
                <textarea id="content" name="content" placeholder="Enter text here..." readonly>{{ note.content }}</textarea>
                <p><small>Last Modified: {{ note.last_modified }}</small></p>
            </div>
            <button class="delete-btn" onclick="delete_note()">Delete</button>
            <button class="back-btn"><a href="{{ url_for('view_notes') }}">Return</a></button>

    </div>
    <script>
        const textarea = document.getElementById('content');
        function adjustTextareaHeight() {
            textarea.style.height = 'auto';  // Reset the height to auto to shrink the height if text is deleted
            textarea.style.height = (textarea.scrollHeight) + 'px';  // Set the height to scrollHeight
        }
        adjustTextareaHeight();
        
        function delete_note(){
            let confirm_delete = confirm("Are you sure you want to delete this note?");
            if(confirm_delete){
                window.location.href = "{{ url_for('delete_note', note_id=note_id) }}"
            }
        }
    </script>
{% endblock %}
